<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>P</title>
   
   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

   <!-- custom js file link  -->
   <script src="js/script.js" defer></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

   <link rel="stylesheet" href="css/keranjang2.css">

</head>
<body>
  
  <div class="shopping-cart">
    <!-- Title -->
    <div class="title">
      Keranjang Belanja
    </div>

    <!-- Product #1 -->
    <div class="item">
      <div class="image">
        <img class="img-buy" src="img/nasiAyam.png" alt="" />
      </div>

      <div class="description">
        <span>Nasi Ayam</span>
        <span>Nasi Putih dengan Ayam Goreng</span>
      </div>

      <div class="quantity">
        <button class="plus-btn" type="button" name="button" onclick="plus(0, 12)">
          <img src="img/plus.svg" alt="" />
        </button>
        <input type="text" name="name" value="1">
        <button class="minus-btn" type="button" name="button" onclick="min(0, 12)">
          <img src="img/minus.svg" alt="" />
        </button>
      </div>

      <div class="total-price">Rp. 12.000</div>
    </div>

    <!-- Product #2 -->
    <div class="item">
      <div class="image">
        <img class="img-buy" src="img/galatin.png" alt=""/>
      </div>

      <div class="description">
        <span>Galatin</span>
        <span>Galatin dengan Ayam</span>
      </div>

      <div class="quantity">
        <button class="plus-btn" type="button" name="button" onclick="plus(1, 7)">
          <img src="img/plus.svg" alt="" />
        </button>
        <input type="text" name="name" value="1">
        <button class="minus-btn" type="button" name="button" onclick="min(1, 7)">
          <img src="img/minus.svg" alt="" />
        </button>
      </div>

      <div class="total-price">Rp. 7.000</div>
    </div>

    <!-- Product #3 -->
    <div class="item" style="padding-bottom: 35%;">
      <div class="image">
        <img class="img-buy" src="img/miekuah.png" alt="" />
      </div>

      <div class="description">
        <span>Mie Rebus</span>
        <span>Mie Rebus dengan Telur Ceplok</span>
      </div>

      <div class="quantity">
        <button class="plus-btn" type="button" name="button" onclick="plus(2, 6)">
          <img src="img/plus.svg" alt="" />
        </button>
        <input type="text" name="name" value="1">
        <button class="minus-btn" type="button" name="button" onclick="min(2, 6)">
          <img src="img/minus.svg" alt="" />
        </button>
      </div>

      <div class="total-price">Rp.6.000</div>

      <!-- <div class="totals">
        <div class="totals-item">
          <label>Subtotal</label>
          <div class="totals-value" id="cart-subtotal">71.97</div>
        </div>
        <div class="totals-item">
          <label>Tax (5%)</label>
          <div class="totals-value" id="cart-tax">3.60</div>
        </div>
        <div class="totals-item">
          <label>Shipping</label>
          <div class="totals-value" id="cart-shipping">15.00</div>
        </div>
        <div class="totals-item totals-item-total">
          <label>Grand Total</label>
          <div class="totals-value" id="cart-total">90.57</div>
        </div>
      </div>
          
          <button class="checkout">Checkout</button> -->
    </div>
    <script>
      $('.minus-btn').on('click', function(e) {
          e.preventDefault();
          var $this = $(this);
          var $input = $this.closest('div').find('input');
          var value = parseInt($input.val());

          if (value > 1) {
            value = value - 1;
          } else {
            value = 0;
          }

          $input.val(value);

        });

        $('.plus-btn').on('click', function(e) {
          e.preventDefault();
          var $this = $(this);
          var $input = $this.closest('div').find('input');
          var value = parseInt($input.val());

          if (value < 100) {
            value = value + 1;
          } else {
            value =100;
          }

          $input.val(value);
        });

        $('.like-btn').on('click', function() {
          $(this).toggleClass('is-active');
        });
        var totalAwal = [12, 7, 6];
        var item = document.querySelectorAll('.item')
      function plus (id, hargaSatuan) {
        totalAwal[id] = totalAwal[id] + hargaSatuan;
        var price = document.querySelectorAll('.total-price');
        price[id].innerHTML = "Rp."+totalAwal[id]+".000";
        var btn_min = document.querySelectorAll('.minus-btn');
        console.log(totalAwal);
        if(totalAwal[id] < 1){
          btn_min[id].setAttribute("disabled", "")
        }else{
          btn_min[id].removeAttribute("disabled");
          item[id].setAttribute('style', 'display:none')
        }
      }
      function min (id, hargaSatuan) {
        totalAwal[id] = totalAwal[id] - hargaSatuan;
        var price = document.querySelectorAll('.total-price');
        price[id].innerHTML = "Rp."+totalAwal[id]+".000";
        var btn_min = document.querySelectorAll('.minus-btn');
        if(totalAwal[id] < 1){
          btn_min[id].setAttribute("disabled", "")
        }else{
          btn_min[id].removeAttribute("disabled");
          item[id].setAttribute('style', 'display:none')
        }
      }
    </script>
</body>
</html>